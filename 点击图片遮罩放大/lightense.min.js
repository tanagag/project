/*! lightense-images v1.0.1 | Â© Tunghsiao Liu | MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lightense=t():e.Lightense=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(){function e(e){var n=e.length;if(n)for(var r=0;n>r;r++)t(e[r]);else t(e)}function t(e){var t=e.getAttribute("data-image")||e.src;t&&(e.classList.add("lightense-target"),e.addEventListener("click",function(e){return b.keyboard&&(e.metaKey||e.ctrlKey)?f.open(t,"_blank"):void l(this)},!1))}function r(){var e="\n      .lightense-backdrop {\n        box-sizing: border-box;\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        top: 0;\n        left: 0;\n        overflow: hidden;\n        z-index: "+(b.zIndex-1)+";\n        padding: 0;\n        margin: 0;\n        transition: opacity "+b.time+"ms ease;\n        cursor: zoom-out;\n        opacity: 0;\n        background-color: rgba(255, 255, 255, .98);\n        visibility: hidden;\n      }\n\n      @supports (-webkit-backdrop-filter: blur(30px)) {\n        .lightense-backdrop {\n          background-color: rgba(255, 255, 255, .6);\n          -webkit-backdrop-filter: blur(30px);\n          backdrop-filter: blur(30px);\n        }\n      }\n\n      .lightense-wrap {\n        position: relative;\n        transition: transform "+b.time+"ms "+b.cubicBezier+";\n        z-index: "+b.zIndex+";\n        -webkit-user-select: none;\n        user-select: none;\n      }\n\n      .lightense-target {\n        cursor: zoom-in;\n        transition: transform "+b.time+"ms "+b.cubicBezier+";\n      }\n\n      .lightense-open {\n        cursor: zoom-out;\n      }\n\n      .lightense-transitioning {\n        pointer-events: none;\n      }\n    ",t=m.head||m.getElementsByTagName("head")[0],n=m.createElement("style");n.styleSheet?n.styleSheet.cssText=e:n.appendChild(m.createTextNode(e)),t.appendChild(n)}function i(){b.container=m.createElement("div"),b.container.className="lightense-backdrop",m.body.appendChild(b.container)}function o(e){var t=e.width,n=e.height,r=f.pageYOffset||m.documentElement.scrollTop||0,i=f.pageXOffset||m.documentElement.scrollLeft||0,o=b.target.getBoundingClientRect(),a=t/o.width,s=f.innerWidth||m.documentElement.clientWidth||0,c=f.innerHeight||m.documentElement.clientHeight||0,l=s-b.padding,d=c-b.padding,u=t/n,p=l/d;l>t&&d>n?b.scaleFactor=a:p>u?b.scaleFactor=d/n*a:b.scaleFactor=l/t*a;var g=s/2,h=r+c/2,v=o.left+i+o.width/2,y=o.top+r+o.height/2;b.translateX=g-v,b.translateY=h-y}function a(){b.target.classList.add("lightense-open"),b.wrap=m.createElement("div"),b.wrap.className="lightense-wrap",setTimeout(function(){b.target.style.transform="scale("+b.scaleFactor+")"},20),b.target.parentNode.insertBefore(b.wrap,b.target),b.wrap.appendChild(b.target),setTimeout(function(){b.wrap.style.transform="translate3d("+b.translateX+"px, "+b.translateY+"px, 0)"},20),b.background&&(b.container.style.backgroundColor=b.background),b.container.style.visibility="visible",setTimeout(function(){b.container.style.opacity="1"},20)}function s(){u(),b.target.classList.remove("lightense-open"),b.wrap.style.transform="",b.target.style.transform="",b.target.classList.add("lightense-transitioning"),b.container.style.opacity="",setTimeout(function(){b.container.style.visibility="",b.container.style.backgroundColor="",b.wrap.parentNode.replaceChild(b.target,b.wrap),b.target.classList.remove("lightense-transitioning")},b.time)}function c(){var e=Math.abs(b.scrollY-f.scrollY);e>=b.offset&&s()}function l(e){if(b.target=e,b.target.classList.contains("lightense-open"))return s();b.scrollY=f.scrollY,b.src=e.getAttribute("data-image")||e.src,b.background=b.target.getAttribute("data-background")||!1;var t=new Image;t.onload=function(){o(this),a(),d()},t.src=b.src}function d(){f.addEventListener("keyup",p,!1),f.addEventListener("scroll",c,!1),b.container.addEventListener("click",s,!1)}function u(){f.removeEventListener("keyup",p,!1),f.removeEventListener("scroll",c,!1),b.container.removeEventListener("click",s,!1)}function p(e){e.preventDefault(),27===e.keyCode&&s()}function g(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw"You need to pass an element!";b=n({},h,o),r(),i(),e(t)}var f=window,m=document,h={time:300,padding:40,offset:40,keyboard:!0,cubicBezier:"cubic-bezier(.2, 0, .1, 1)",zIndex:2147483647},b={};return g}();e.exports=r}])});